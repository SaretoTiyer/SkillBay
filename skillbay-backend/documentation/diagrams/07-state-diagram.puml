' SkillBay - Diagramas de Estado UML
' Estados de las entidades principales
' Generado para análisis del sistema

skinparam state {
    BackgroundColor<<Pendiente>> #FFF3CD
    BackgroundColor<<Activo>> #D4EDDA
    BackgroundColor<<Inactivo>> #F8D7DA
    BackgroundColor<<Completado>> #CCE5FF
    BackgroundColor<<Error>> #F8D7DA
}

title Estados de Postulación

[*] --> PENDIENTE : Crear postulación
PENDIENTE --> ACEPTADA : Cliente acepta
PENDIENTE --> RECHAZADA : Cliente rechaza
PENDIENTE --> CANCELADA : Contratista cancela
ACEPTADA --> EN_PROGRESO : Iniciar trabajo
EN_PROGRESO --> COMPLETADA : Completar trabajo
COMPLETADA --> [*]

note right of PENDIENTE
    Esperando revisión\ndel cliente
end note

note right of ACEPTADA
    Contratista seleccionado\npara el trabajo
end note

note right of EN_PROGRESO
    Trabajo en ejecución
end note

note right of COMPLETADA
    Trabajo terminado y\npagado
end note

---

title Estados de Servicio

[*] --> ACTIVO : Crear servicio
ACTIVO --> INACTIVO : Desactivar
ACTIVO --> COMPLETADO : Todos los trabajos\ncompletados
INACTIVO --> ACTIVO : Reactivar
COMPLETADO --> [*]

note right of ACTIVO
    Disponible para\npostulaciones
end note

note right of INACTIVO
    No visible para\notros usuarios
end note

---

title Estados de Pago (Plan)

[*] --> PENDIENTE : Iniciar pago
PENDIENTE --> APROBADO : Pago confirmado
PENDIENTE --> RECHAZADO : Pago fallido
PENDIENTE --> CANCELADO : Usuario cancela
APROBADO --> CANCELADO : Suscripción\ncancelada
APROBADO --> [*]

note right of PENDIENTE
    Esperando confirmación\nde MercadoPago
end note

note right of APROBADO
    Plan activo y\nvigente
end note

---

title Estados de Pago (Servicio)

[*] --> PENDIENTE : Registrar pago
PENDIENTE --> APROBADO : Confirmar recepción
PENDIENTE --> RECHAZADO : Pago fallido
PENDIENTE --> CANCELADO : Cancelar
APROBADO --> [*]

note right of PENDIENTE
    Esperando confirmación\ndel cliente
end note

note right of APROBADO
    Servicio pagado\ncompletamente
end note

---

title Estados de Reporte

[*] --> PENDIENTE : Crear reporte
PENDIENTE --> EN_REVISION : Admin revisa
EN_REVISION --> RESUELTO : Acción tomada
EN_REVISION --> DESCARTADO : Reporte inválido
RESUELTO --> [*]

note right of PENDIENTE
    Nuevo reporte\nsin revisar
end note

note right of EN_REVISION
    Admin analizando\nel caso
end note

note right of RESUELTO
    Usuario bloqueado o\nreporte cerrado
end note